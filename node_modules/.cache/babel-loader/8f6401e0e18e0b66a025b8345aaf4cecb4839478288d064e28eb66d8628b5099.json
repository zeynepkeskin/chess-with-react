{"ast":null,"code":"import { PieceType, TeamType, Piece } from \"../components/Chessboard/Chessboard\";\nexport default class Referee {\n  tileIsOccupied(x, y, boardState) {\n    const piece = boardState.find(p => p.x === x && p.y === y);\n    if (piece) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  tileIsOccupiedByOpponent(x, y, boardState, team) {\n    const piece = boardState.find(p => p.x === x && p.y === y && p.team !== team);\n    if (piece) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isValidMove(px, py, x, y, type, team, boardState) {\n    if (type === PieceType[0]) {\n      const specialRow = team === TeamType[1] ? 1 : 6;\n      const pawnDirection = team === TeamType[1] ? 1 : -1;\n\n      //MOVEMENT LOGIC\n      if (px === x && py === specialRow && y - py === 2 * pawnDirection) {\n        if (!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y - pawnDirection, boardState)) {\n          return true;\n        }\n      } else if (px === x && y - py === pawnDirection) {\n        if (!this.tileIsOccupied(x, y, boardState)) {\n          return true;\n        }\n      }\n      //ATTACK LOGIC\n      else if (x - px === -1 && y - py === pawnDirection) {\n        //ATTACK IN UPPER OR BOTTOM LEFT CORNER\n        if (this.tileIsOccupiedByOpponent(x, y, boardState, team)) {\n          return true;\n        }\n      } else if (x - px === 1 && y - py === pawnDirection) {\n        //ATTACK IN UPPER OR BOTTOM RIGHT CORNER\n        if (this.tileIsOccupiedByOpponent(x, y, boardState, team)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}","map":{"version":3,"names":["PieceType","TeamType","Piece","Referee","tileIsOccupied","x","y","boardState","piece","find","p","tileIsOccupiedByOpponent","team","isValidMove","px","py","type","specialRow","pawnDirection"],"sources":["C:/Users/zeyne/OneDrive/Desktop/chess/chess/src/referee/Referee.js"],"sourcesContent":["import {\r\n  PieceType,\r\n  TeamType,\r\n  Piece,\r\n} from \"../components/Chessboard/Chessboard\";\r\n\r\nexport default class Referee {\r\n  tileIsOccupied(x, y, boardState) {\r\n    const piece = boardState.find((p) => p.x === x && p.y === y);\r\n    if (piece) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  tileIsOccupiedByOpponent(x, y, boardState, team) {\r\n    const piece = boardState.find(\r\n      (p) => p.x === x && p.y === y && p.team !== team\r\n    );\r\n\r\n    if (piece) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isValidMove(px, py, x, y, type, team, boardState) {\r\n    if (type === PieceType[0]) {\r\n      const specialRow = team === TeamType[1] ? 1 : 6;\r\n      const pawnDirection = team === TeamType[1] ? 1 : -1;\r\n\r\n      //MOVEMENT LOGIC\r\n      if (px === x && py === specialRow && y - py === 2 * pawnDirection) {\r\n        if (\r\n          !this.tileIsOccupied(x, y, boardState) &&\r\n          !this.tileIsOccupied(x, y - pawnDirection, boardState)\r\n        ) {\r\n          return true;\r\n        }\r\n      } else if (px === x && y - py === pawnDirection) {\r\n        if (!this.tileIsOccupied(x, y, boardState)) {\r\n          return true;\r\n        }\r\n      }\r\n      //ATTACK LOGIC\r\n      else if (x - px === -1 && y - py === pawnDirection) {\r\n        //ATTACK IN UPPER OR BOTTOM LEFT CORNER\r\n        if (this.tileIsOccupiedByOpponent(x, y, boardState, team)) {\r\n          return true;\r\n        }\r\n      } else if (x - px === 1 && y - py === pawnDirection) {\r\n        //ATTACK IN UPPER OR BOTTOM RIGHT CORNER\r\n        if (this.tileIsOccupiedByOpponent(x, y, boardState, team)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n"],"mappings":"AAAA,SACEA,SAAS,EACTC,QAAQ,EACRC,KAAK,QACA,qCAAqC;AAE5C,eAAe,MAAMC,OAAO,CAAC;EAC3BC,cAAcA,CAACC,CAAC,EAAEC,CAAC,EAAEC,UAAU,EAAE;IAC/B,MAAMC,KAAK,GAAGD,UAAU,CAACE,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACL,CAAC,KAAKA,CAAC,IAAIK,CAAC,CAACJ,CAAC,KAAKA,CAAC,CAAC;IAC5D,IAAIE,KAAK,EAAE;MACT,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF;EAEAG,wBAAwBA,CAACN,CAAC,EAAEC,CAAC,EAAEC,UAAU,EAAEK,IAAI,EAAE;IAC/C,MAAMJ,KAAK,GAAGD,UAAU,CAACE,IAAI,CAC1BC,CAAC,IAAKA,CAAC,CAACL,CAAC,KAAKA,CAAC,IAAIK,CAAC,CAACJ,CAAC,KAAKA,CAAC,IAAII,CAAC,CAACE,IAAI,KAAKA,IAC9C,CAAC;IAED,IAAIJ,KAAK,EAAE;MACT,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF;EAEAK,WAAWA,CAACC,EAAE,EAAEC,EAAE,EAAEV,CAAC,EAAEC,CAAC,EAAEU,IAAI,EAAEJ,IAAI,EAAEL,UAAU,EAAE;IAChD,IAAIS,IAAI,KAAKhB,SAAS,CAAC,CAAC,CAAC,EAAE;MACzB,MAAMiB,UAAU,GAAGL,IAAI,KAAKX,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAC/C,MAAMiB,aAAa,GAAGN,IAAI,KAAKX,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;MAEnD;MACA,IAAIa,EAAE,KAAKT,CAAC,IAAIU,EAAE,KAAKE,UAAU,IAAIX,CAAC,GAAGS,EAAE,KAAK,CAAC,GAAGG,aAAa,EAAE;QACjE,IACE,CAAC,IAAI,CAACd,cAAc,CAACC,CAAC,EAAEC,CAAC,EAAEC,UAAU,CAAC,IACtC,CAAC,IAAI,CAACH,cAAc,CAACC,CAAC,EAAEC,CAAC,GAAGY,aAAa,EAAEX,UAAU,CAAC,EACtD;UACA,OAAO,IAAI;QACb;MACF,CAAC,MAAM,IAAIO,EAAE,KAAKT,CAAC,IAAIC,CAAC,GAAGS,EAAE,KAAKG,aAAa,EAAE;QAC/C,IAAI,CAAC,IAAI,CAACd,cAAc,CAACC,CAAC,EAAEC,CAAC,EAAEC,UAAU,CAAC,EAAE;UAC1C,OAAO,IAAI;QACb;MACF;MACA;MAAA,KACK,IAAIF,CAAC,GAAGS,EAAE,KAAK,CAAC,CAAC,IAAIR,CAAC,GAAGS,EAAE,KAAKG,aAAa,EAAE;QAClD;QACA,IAAI,IAAI,CAACP,wBAAwB,CAACN,CAAC,EAAEC,CAAC,EAAEC,UAAU,EAAEK,IAAI,CAAC,EAAE;UACzD,OAAO,IAAI;QACb;MACF,CAAC,MAAM,IAAIP,CAAC,GAAGS,EAAE,KAAK,CAAC,IAAIR,CAAC,GAAGS,EAAE,KAAKG,aAAa,EAAE;QACnD;QACA,IAAI,IAAI,CAACP,wBAAwB,CAACN,CAAC,EAAEC,CAAC,EAAEC,UAAU,EAAEK,IAAI,CAAC,EAAE;UACzD,OAAO,IAAI;QACb;MACF;IACF;IAEA,OAAO,KAAK;EACd;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}